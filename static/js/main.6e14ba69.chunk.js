(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){e.exports=n(360)},147:function(e,t,n){var a={"./covid-conversation-title.png":148,"./great-american-debate-title.png":149};function c(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=147},148:function(e,t,n){e.exports=n.p+"static/media/covid-conversation-title.3257740f.png"},149:function(e,t,n){e.exports=n.p+"static/media/great-american-debate-title.9e8f6898.png"},154:function(e,t,n){e.exports=n.p+"static/media/covid-conversation-title-transparent.37697898.png"},155:function(e,t,n){var a={"./covid-conversation-donate-cta.png":156};function c(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=155},156:function(e,t,n){e.exports=n.p+"static/media/covid-conversation-donate-cta.08d99cbf.png"},157:function(e,t,n){var a={"./covid-conversation-welcome-cta.png":158};function c(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=157},158:function(e,t,n){e.exports=n.p+"static/media/covid-conversation-welcome-cta.56b7a280.png"},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(51),o=n.n(r),s=n(2),i=n(4),l=n(8),m=n(7),u=n(9),d=n(36),p=n(30),v=function(e){var t=e.animation,n=e.duration,c=e.options,r={fadeOut:[{opacity:1},{opacity:0}]},o={once:{duration:n,iterations:1,fill:"forwards"}},s=function(e){e.preventDefault(),document.getElementsByClassName("page")[0].animate(r[t],o[c]),window.setTimeout(function(){window.location=e.target.closest("a").href},n)};return a.useEffect(function(){return window.requestAnimationFrame(function(){for(var e=document.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].addEventListener("click",s)}),function(){for(var e=document.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].removeEventListener("click",s)}},[]),null},E=function(e){var t=e.themeId;return a.createElement("section",{className:"page welcome"},a.createElement(v,{duration:200,animation:"fadeOut",options:"once"}),a.createElement("div",{className:"font-preloader"},a.createElement("span",null,"Load")," ",a.createElement("span",null,"the")," ",a.createElement("span",null,"fonts")),a.createElement("div",{className:"top-container"},a.createElement("img",{className:"title-image",src:n(147)("./".concat(t,"-title.png")),alt:"The Great American Debate"}),a.createElement("h3",{className:"subheading"},a.createElement("span",null,"america's arguments,")," ",a.createElement("span",null,"all in one place"))),a.createElement("div",{className:"bottom-container"},a.createElement(d.b,{to:"/debates",className:"explore-button stylized-button drop-shadow"},"Explore"),a.createElement("div",{className:"welcome-animation"},a.createElement("div",{className:"animation-container"},a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative reversed"})),a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative"})),a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative reversed"})),a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative"})),a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative"})),a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative"})),a.createElement("div",{className:"speech-bubble-container"},a.createElement("div",{className:"speech-bubble decorative"}))),a.createElement("div",{className:"animation-container"},a.createElement("div",{className:"shadow"}),a.createElement("div",{className:"shadow"}),a.createElement("div",{className:"shadow"})),a.createElement("div",{className:"animation-container"},a.createElement("div",{className:"star-container"},a.createElement("div",{className:"star"})),a.createElement("div",{className:"star-container"},a.createElement("div",{className:"star"})),a.createElement("div",{className:"star-container"},a.createElement("div",{className:"star"})),a.createElement("div",{className:"star-container"},a.createElement("div",{className:"star"})),a.createElement("div",{className:"star-container"},a.createElement("div",{className:"star"}))))))},b=function(e){var t=e.themeId;return a.createElement("section",{className:"page welcome"},a.createElement(v,{duration:200,animation:"fadeOut",options:"once"}),a.createElement("div",{className:"font-preloader"},a.createElement("span",null,"Load")," ",a.createElement("span",null,"the")," ",a.createElement("span",null,"fonts")),a.createElement("div",{className:"top-container"},a.createElement("img",{className:"title-image",src:n(99)("./".concat(t,"-title-transparent.png")),alt:"The Covid Conversation Map"})),a.createElement("div",{class:"welcome-quote"},a.createElement("h2",null,"\u201cA healthy society cannot have just one voice.\u201d"),a.createElement("p",null,"Attributed to Dr. Li Wenliang (\u674e\u6587\u4eae), he is reported to have died of the Corona virus disease he warned China about.")),a.createElement("div",{className:"bottom-container"},a.createElement("div",null,a.createElement(d.b,{className:"donate-cta-link",to:"https://secure.squarespace.com/checkout/donate?donatePageId=5bf21df970a6ad8a5c8e4e9b&ss_cid=fd000cc9-da16-4d66-b1cd-25fa2c35ed8b&ss_cvisit=1586916546423&ss_cvr=6efafd68-89e9-4cbf-ac68-8568f6a9822a%7C1583383895461%7C1585513997862%7C1586916546360%7C12"},a.createElement("img",{className:"welcome-cta",src:n(155)("./".concat(t,"-donate-cta.png")),alt:"Conversations"}),a.createElement("span",null,"We're an educational non-profit, please donate!"))),a.createElement("div",null,a.createElement(d.b,{to:"/map"},a.createElement("img",{className:"welcome-cta",src:n(157)("./".concat(t,"-welcome-cta.png")),alt:"Conversations"})))))},f=(n(159),n(160),function(e){var t=e.themeId;return function(){switch(t){case"great-american-debate":return a.createElement(E,{themeId:t});case"covid-conversation":return a.createElement(b,{themeId:t})}}()}),h=(n(161),function(e){return a.createElement(f,{themeId:"covid-conversation"})}),N=n(12),g=n(141),O=n(0),k=n(33);var w=Object(O.s)(function(e){return function(){var e;e="3Ip9uqwURvOFO0DkMKGO4w";var t=Object(k.a)(e);return t.sort(function(e,t){return e.createdAt-t.createdAt}),t}}),y=(Object(O.s)(function(e){return function(e){return Object(k.a)(e)}}),Object(O.s)(function(e){return function(e){return Object(k.a)(e)}}),Object(O.s)(function(e){return function(e){return Object(k.a)(e)}}),Object(O.s)(function(e){return function(e){return Object(k.a)(e)}})),C=Object(O.s)(function(e){return function(e){var t={};return y(e).forEach(function(e){t[e._key]={title:e.current.titles.base,childNodes:C(e._key)}}),t}}),D=n(26),x=n.n(D),M=function e(t){var n=t.title,a=t.nodeId,r=t.nodeChildren,o=t.depth,s=t.setMapDepth,i=t.setMaxMapDepth,l=t.isExpanded,m=t.setIsExpanded,u=Object.keys(r).length>0,d=c.a.useState(null),p=Object(N.a)(d,2),v=p[0],E=p[1];return console.log(t),c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{key:a,className:x()("map-node","rectangle",{expanded:l},{"can-expand":u}),onClick:function(e){e.stopPropagation(),u?s(o):(i(o-1),s(o-1)),l||(m(),i(o))}},c.a.createElement("h4",null,n)),l&&u&&c.a.createElement("ul",{className:"map-node-children",key:"".concat(a,"-children")},Object.keys(r).map(function(t){var n=r[t];return c.a.createElement(e,{nodeId:t,title:n.title,nodeChildren:n.childNodes,setMapDepth:s,setMaxMapDepth:i,depth:o+1,isExpanded:t==v,setIsExpanded:function(){E(t)},key:t})})))},j=function(e){var t=e.question,n=e.currentQuestion,c=e.setMapDepth,r=e.setMaxMapDepth,o=e.setCurrentQuestion,s=e.questionChildren,i=e.questionIndex,l=a.useState(null),m=Object(N.a)(l,2),u=m[0],d=m[1],p=t.current._key==n;return a.createElement(a.Fragment,null,a.createElement("li",{className:x()("map-question",{expanded:p}),key:i,onClick:function(){c(0),o(t.current._key)}},a.createElement("div",{className:"knockout convo-count"},a.createElement("p",null,Object.keys(s).length),a.createElement("p",null,"Convos")),a.createElement("h3",{className:"map-question-title"},function(e){var t=e.current.titles.base;return t=t.replace(/(^|\W)CC(\W|$)/g,"$1Climate Change$2")}(t))),p&&a.createElement("ul",{className:"question-children fade-in",key:"".concat(i,"-children")},Object.keys(s).map(function(e){var t=s[e];return a.createElement(M,{nodeId:e,title:t.title,nodeChildren:t.childNodes,depth:1,setMapDepth:c,setMaxMapDepth:r,isExpanded:e===u,setIsExpanded:function(){d(e)},key:e})})))},I=function(e){var t=e.questions,n=e.questionChildren,c=e.setMapDepth,r=e.setMaxMapDepth,o=a.useState(null),s=Object(N.a)(o,2),i=s[0],l=s[1];return a.createElement("ul",{className:"question-list"},t.map(function(e,t){return a.createElement(j,{question:e,questionIndex:t,currentQuestion:i,setCurrentQuestion:l,setMapDepth:c,setMaxMapDepth:r,questionChildren:n[t].childNodes})}))},q=function(e){var t=e.currentDepth,n=e.maxDepth,c=e.zeroMapDepth,r=e.decreaseMapDepth,o=e.increaseMapDepth,s=e.maximizeMapDepth;return a.createElement("div",{className:"map-depth-selector"},a.createElement("button",{onClick:c,className:x()("reset-map-depth-button",{disabled:t<=0})},"\u25c4\u25c4"),a.createElement("button",{onClick:r,className:x()("decrease-map-depth-button",{disabled:t<=0})},"\u25c4"),a.createElement("button",{onClick:o,className:x()("increase-map-depth-button",{disabled:t==n})},"\u25ba"),a.createElement("button",{onClick:s,className:x()("max-map-depth-button",{disabled:t==n})},"\u25ba\u25ba"))},_=(n(357),Object(g.a)(function(e){var t=e.themeId,c=w(),r=c.map(function(e){return{questionId:e._key,childNodes:C(e._key)}}),o=a.useState(0),s=Object(N.a)(o,2),i=s[0],l=s[1],m=a.useState(0),u=Object(N.a)(m,2),d=u[0],p=u[1];return a.createElement("main",{className:"map fade-in",style:{backgroundPositionX:"calc(100% - ".concat(30*i,"px)")}},a.createElement("div",{className:"top-container"},a.createElement("img",{className:"title-image",src:n(99)("./".concat(t,"-title-transparent.png")),alt:"The Covid Conversation"})),a.createElement("section",{className:"map-container",style:{transform:"translateX(".concat(-40*i+4,"%)")}},a.createElement("div",{className:"question-list-container"},a.createElement(I,{questions:c,questionChildren:r,setMapDepth:l,setMaxMapDepth:p}))),a.createElement("section",{className:"map-footer"},a.createElement(q,{currentDepth:i,maxDepth:d,zeroMapDepth:function(){return l(0)},decreaseMapDepth:function(){i>0&&l(i-1)},increaseMapDepth:function(){i<d&&l(i+1)},maximizeMapDepth:function(){return l(d)}})))})),L=(n(358),n(5),n(61)),T=n.n(L),U={apiKey:"AIzaSyCnvv_m-L08i4b5NmxGF5doSwQ2uJZ8i-0",authDomain:"debate-map-prod.firebaseapp.com",databaseURL:"https://debate-map-prod.firebaseio.com",projectId:"debate-map-prod",storageBucket:"debate-map-prod.appspot.com"},A="versions/v".concat(12,"-").concat("prod"),F={};T.a.initializeApp(U),Object(k.b)(A,F);var z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).themeId="covid-conversation",n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(d.a,{basename:"/"},c.a.createElement("div",{className:"app"},c.a.createElement(p.a,{path:"/map",component:function(){return c.a.createElement(_,{themeId:e.themeId})}}),c.a.createElement(p.a,{exact:!0,path:"/",component:h})))}}]),t}(a.Component);n(359);o.a.render(c.a.createElement(z),document.getElementById("root"))},99:function(e,t,n){var a={"./covid-conversation-title-transparent.png":154};function c(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=99}},[[142,1,2]]]);
//# sourceMappingURL=main.6e14ba69.chunk.js.map