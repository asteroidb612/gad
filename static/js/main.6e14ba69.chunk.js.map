{"version":3,"sources":["assets/images sync /^/.//.*/-title/.png$","assets/images/covid-conversation-title.png","assets/images/great-american-debate-title.png","assets/images/covid-conversation-title-transparent.png","assets/images sync /^/.//.*/-donate/-cta/.png$","assets/images/covid-conversation-donate-cta.png","assets/images sync /^/.//.*/-welcome/-cta/.png$","assets/images/covid-conversation-welcome-cta.png","components/PageEffects.tsx","pages/themes/GreatAmericanDebateWelcome.tsx","pages/themes/CovidConversationWelcome.tsx","components/themes/ThemeSelector.tsx","pages/Welcome.tsx","firestore/firestore.ts","components/MapNode.tsx","components/MapQuestion.tsx","components/MapQuestions.tsx","components/MapDepthSelector.tsx","pages/Map.tsx","firestore/init-dm-link.ts","App.tsx","index.ts","assets/images sync /^/.//.*/-title/-transparent/.png$"],"names":["map","./covid-conversation-title.png","./great-american-debate-title.png","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","./covid-conversation-donate-cta.png","./covid-conversation-welcome-cta.png","PageEffects","props","animation","duration","options","keyframes","fadeOut","opacity","timingOptions","once","iterations","fill","linkClickHandler","preventDefault","document","getElementsByClassName","animate","window","setTimeout","location","target","closest","href","React","requestAnimationFrame","links","getElementsByTagName","i","length","addEventListener","removeEventListener","GreatAmericanDebateWelcome","themeId","react","className","PageEffects_PageEffects","src","require","concat","alt","react_router_dom","to","CovidConversationWelcome","class","WelcomePage","GreatAmericanDebateWelcome_GreatAmericanDebateWelcome","CovidConversationWelcome_CovidConversationWelcome","selectWelcome","Welcome","ThemeSelector_WelcomePage","process","getQuestions","StoreAccessor","s","mainMap_rootNodeID","questions","GetNodeChildrenL2","sort","a","b","createdAt","getMapNodeChildren","questionID","positionID","reasonID","nodeId","getMapNodeSubtree","subtree","forEach","child","_key","title","current","titles","base","childNodes","MapNode","nodeChildren","depth","setMapDepth","setMaxMapDepth","isExpanded","setIsExpanded","hasChildren","_React$useState","useState","_React$useState2","slicedToArray","expandedChild","setExpandedChild","console","log","react_default","createElement","Fragment","key","classNames","expanded","can-expand","onClick","stopPropagation","childNodeKey","childNode","MapQuestion","question","currentQuestion","setCurrentQuestion","questionChildren","questionIndex","node","result","replace","getFinalNodeTitle","MapNode_MapNode","MapQuestions","MapQuestion_MapQuestion","MapDepthSelector","currentDepth","maxDepth","zeroMapDepth","decreaseMapDepth","increaseMapDepth","maximizeMapDepth","disabled","Map","observer","questionId","mapDepth","_React$useState3","_React$useState4","maxMapDepth","style","backgroundPositionX","transform","MapQuestions_MapQuestions","MapDepthSelector_MapDepthSelector","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","linkRootPath","store","firebase","initializeApp","InitFirelink","App","_this2","this","basename","react_router","path","component","Map_Map","exact","Component","ReactDOM","render","getElementById","./covid-conversation-title-transparent.png"],"mappings":"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","file":"static/js/main.6e14ba69.chunk.js","sourcesContent":["var map = {\n\t\"./covid-conversation-title.png\": 148,\n\t\"./great-american-debate-title.png\": 149\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 147;","module.exports = __webpack_public_path__ + \"static/media/covid-conversation-title.3257740f.png\";","module.exports = __webpack_public_path__ + \"static/media/great-american-debate-title.9e8f6898.png\";","module.exports = __webpack_public_path__ + \"static/media/covid-conversation-title-transparent.37697898.png\";","var map = {\n\t\"./covid-conversation-donate-cta.png\": 156\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 155;","module.exports = __webpack_public_path__ + \"static/media/covid-conversation-donate-cta.08d99cbf.png\";","var map = {\n\t\"./covid-conversation-welcome-cta.png\": 158\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 157;","module.exports = __webpack_public_path__ + \"static/media/covid-conversation-welcome-cta.56b7a280.png\";","import * as React from 'react'\n\nexport const PageEffects = (props) => {\n  const { animation, duration, options } = props\n\n  let keyframes = {\n    fadeOut: [\n      // keyframes\n      { opacity: 1 },\n      { opacity: 0 },\n    ],\n  }\n\n  let timingOptions = {\n    once: {\n      // timing options\n      duration: duration,\n      iterations: 1,\n      fill: 'forwards',\n    },\n  }\n\n  let linkClickHandler = (e) => {\n    e.preventDefault()\n    document.getElementsByClassName('page')[0].animate(keyframes[animation], timingOptions[options])\n    window.setTimeout(() => {\n      window.location = e.target.closest('a').href\n    }, duration)\n  }\n\n  let applyHandlerToLinks = () => {\n    window.requestAnimationFrame(() => {\n      let links = document.getElementsByTagName('a')\n\n      for (let i = 0; i < links.length; i++) {\n        links[i].addEventListener('click', linkClickHandler)\n      }\n    })\n    return () => {\n      let links = document.getElementsByTagName('a')\n\n      for (let i = 0; i < links.length; i++) {\n        links[i].removeEventListener('click', linkClickHandler)\n      }\n    }\n  }\n\n  React.useEffect(applyHandlerToLinks, [])\n\n  return null\n}\n","import * as React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { PageEffects } from '../../components/PageEffects'\n\nexport const GreatAmericanDebateWelcome = (props) => {\n  const { themeId } = props\n\n  return (\n    <section className=\"page welcome\">\n      <PageEffects duration={200} animation=\"fadeOut\" options=\"once\" />\n      <div className=\"font-preloader\">\n        <span>Load</span> <span>the</span> <span>fonts</span>\n      </div>\n      <div className=\"top-container\">\n        <img\n          className=\"title-image\"\n          src={require(`../../assets/images/${themeId}-title.png`)}\n          alt=\"The Great American Debate\"\n        />\n        <h3 className=\"subheading\">\n          <span>america's arguments,</span> <span>all in one place</span>\n        </h3>\n      </div>\n      <div className=\"bottom-container\">\n        <Link to=\"/debates\" className=\"explore-button stylized-button drop-shadow\">\n          Explore\n        </Link>\n\n        <div className=\"welcome-animation\">\n          <div className=\"animation-container\">\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative reversed\"></div>\n            </div>\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative\"></div>\n            </div>\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative reversed\"></div>\n            </div>\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative\"></div>\n            </div>\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative\"></div>\n            </div>\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative\"></div>\n            </div>\n            <div className=\"speech-bubble-container\">\n              <div className=\"speech-bubble decorative\"></div>\n            </div>\n          </div>\n          <div className=\"animation-container\">\n            <div className=\"shadow\"></div>\n            <div className=\"shadow\"></div>\n            <div className=\"shadow\"></div>\n          </div>\n          <div className=\"animation-container\">\n            <div className=\"star-container\">\n              <div className=\"star\"></div>\n            </div>\n            <div className=\"star-container\">\n              <div className=\"star\"></div>\n            </div>\n            <div className=\"star-container\">\n              <div className=\"star\"></div>\n            </div>\n            <div className=\"star-container\">\n              <div className=\"star\"></div>\n            </div>\n            <div className=\"star-container\">\n              <div className=\"star\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import * as React from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport { PageEffects } from '../../components/PageEffects'\n\nexport const CovidConversationWelcome = (props) => {\n  const { themeId } = props\n  return (\n    <section className=\"page welcome\">\n      <PageEffects duration={200} animation=\"fadeOut\" options=\"once\" />\n      <div className=\"font-preloader\">\n        <span>Load</span> <span>the</span> <span>fonts</span>\n      </div>\n      <div className=\"top-container\">\n        <img\n          className=\"title-image\"\n          src={require(`../../assets/images/${themeId}-title-transparent.png`)}\n          alt=\"The Covid Conversation Map\"\n        />\n      </div>\n      <div class=\"welcome-quote\">\n        <h2>“A healthy society cannot have just one voice.”</h2>\n        <p>\n          Attributed to Dr. Li Wenliang (李文亮), he is reported to have died of the Corona virus disease he warned China\n          about.\n        </p>\n      </div>\n      <div className=\"bottom-container\">\n        <div>\n          <Link\n            className=\"donate-cta-link\"\n            to=\"https://secure.squarespace.com/checkout/donate?donatePageId=5bf21df970a6ad8a5c8e4e9b&ss_cid=fd000cc9-da16-4d66-b1cd-25fa2c35ed8b&ss_cvisit=1586916546423&ss_cvr=6efafd68-89e9-4cbf-ac68-8568f6a9822a%7C1583383895461%7C1585513997862%7C1586916546360%7C12\"\n          >\n            <img\n              className=\"welcome-cta\"\n              src={require(`../../assets/images/${themeId}-donate-cta.png`)}\n              alt=\"Conversations\"\n            />\n            <span>We're an educational non-profit, please donate!</span>\n          </Link>\n        </div>\n        <div>\n          <Link to=\"/map\">\n            <img\n              className=\"welcome-cta\"\n              src={require(`../../assets/images/${themeId}-welcome-cta.png`)}\n              alt=\"Conversations\"\n            />\n          </Link>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import * as React from 'react'\n\n//Welcome page components\nimport { GreatAmericanDebateWelcome } from '../../pages/themes/GreatAmericanDebateWelcome'\nimport { CovidConversationWelcome } from '../../pages/themes/CovidConversationWelcome'\n\n//Theme-specific files\nimport '../../styles/themes/GreatAmericanDebate.scss'\nimport '../../styles/themes/CovidConversation.scss'\n\nexport const WelcomePage = (props) => {\n  const { themeId } = props\n\n  const selectWelcome = () => {\n    switch (themeId) {\n      case 'great-american-debate': {\n        return <GreatAmericanDebateWelcome themeId={themeId} />\n      }\n      case 'covid-conversation': {\n        return <CovidConversationWelcome themeId={themeId} />\n      }\n    }\n  }\n\n  const welcome = selectWelcome()\n\n  return welcome\n}\n","import * as React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { WelcomePage } from '../components/themes/ThemeSelector'\n\nimport '../styles/Welcome.scss'\n\nexport const Welcome = (props) => {\n  const themeId = process.env.REACT_APP_PROJECT_ID\n\n  const welcomePage = <WelcomePage themeId={themeId} />\n\n  return welcomePage\n}\n","import { StoreAccessor } from 'mobx-firelink'\nimport { GetNodeChildrenL2, GetNodeChildren } from '@debate-map/server-link'\nimport { MapNodeL2 } from '@debate-map/server-link'\n\nexport function getFinalNodeTitle(node: MapNodeL2) {\n  //if (node == null) return \"\";\n  let result = node.current.titles.base\n  // in the GAD client/ui, replace \"CC\" with the full \"Climate Change\"\n  result = result.replace(/(^|\\W)CC(\\W|$)/g, '$1Climate Change$2')\n  return result\n}\n\nexport const getQuestions = StoreAccessor((s) => () => {\n  let mainMap_rootNodeID\n  let mainMapID\n\n  switch (process.env.REACT_APP_PROJECT_ID) {\n    case 'great-american-debate': {\n      // uuid of the root Climate Change debate map, and its root node\n      mainMapID = 'DjedFbxfS2-ImEsHDiZNiA'\n      mainMap_rootNodeID = 'v3RJAZH0Tr-nUjjvKd_39g'\n      break\n    }\n    case 'covid-conversation': {\n      mainMapID = 'ccrlooCVR2Cu8AMpsrDIlw'\n      mainMap_rootNodeID = '3Ip9uqwURvOFO0DkMKGO4w'\n      break\n    }\n  }\n\n  const questions = GetNodeChildrenL2(mainMap_rootNodeID)\n  questions.sort((a, b) => a.createdAt - b.createdAt) // until we have a way to manually specify the order, use node creation-time\n  return questions\n})\n\n/**\n * Page-level queries\n */\nexport const getQuestionPositions = StoreAccessor((s) => (questionID: string) => {\n  return GetNodeChildrenL2(questionID)\n})\n\nexport const getPositionReasons = StoreAccessor((s) => (positionID: string) => {\n  return GetNodeChildrenL2(positionID)\n})\n\nexport const getReasonEvidence = StoreAccessor((s) => (reasonID: string) => {\n  return GetNodeChildrenL2(reasonID)\n})\n\n/**\n * Map queries\n */\n\nexport const getMapNodeChildren = StoreAccessor((s) => (nodeId: string) => {\n  return GetNodeChildrenL2(nodeId)\n})\n\nexport const getMapNodeSubtree = StoreAccessor((s) => (nodeId: string) => {\n  let subtree = {}\n  let children = getMapNodeChildren(nodeId)\n\n  children.forEach((child) => {\n    subtree[child._key] = {\n      title: child.current.titles.base,\n      childNodes: getMapNodeSubtree(child._key),\n    }\n  })\n\n  return subtree\n})\n","import React from 'react'\nimport classNames from 'classnames'\n\nexport const MapNode = (props) => {\n  const { title, nodeId, nodeChildren, depth, setMapDepth, setMaxMapDepth, isExpanded, setIsExpanded } = props\n\n  const hasChildren = Object.keys(nodeChildren).length > 0\n\n  const [expandedChild, setExpandedChild] = React.useState(null)\n\n  console.log(props)\n  return (\n    <>\n      <li\n        key={nodeId}\n        className={classNames('map-node', 'rectangle', { expanded: isExpanded }, { 'can-expand': hasChildren })}\n        onClick={(e) => {\n          e.stopPropagation()\n          if (hasChildren) {\n            setMapDepth(depth)\n          } else {\n            // I am a leaf node, leave the map depth at my parent\n            setMaxMapDepth(depth - 1)\n            setMapDepth(depth - 1)\n          }\n\n          if (!isExpanded) {\n            setIsExpanded()\n            setMaxMapDepth(depth)\n          }\n        }}\n      >\n        <h4>{title}</h4>\n      </li>\n      {isExpanded && hasChildren && (\n        <ul className=\"map-node-children\" key={`${nodeId}-children`}>\n          {Object.keys(nodeChildren).map((childNodeKey) => {\n            const childNode = nodeChildren[childNodeKey]\n            return (\n              <MapNode\n                nodeId={childNodeKey}\n                title={childNode.title}\n                nodeChildren={childNode.childNodes}\n                setMapDepth={setMapDepth}\n                setMaxMapDepth={setMaxMapDepth}\n                depth={depth + 1}\n                isExpanded={childNodeKey == expandedChild}\n                setIsExpanded={() => {\n                  setExpandedChild(childNodeKey)\n                }}\n                key={childNodeKey}\n              />\n            )\n          })}\n        </ul>\n      )}\n    </>\n  )\n}\n","import * as React from 'react'\nimport { MapNode } from '../components/MapNode'\nimport { getFinalNodeTitle } from '../firestore/firestore'\nimport classNames from 'classnames'\n\nexport const MapQuestion = (props) => {\n  const {\n    question,\n    currentQuestion,\n    setMapDepth,\n    setMaxMapDepth,\n    setCurrentQuestion,\n    questionChildren,\n    questionIndex,\n  } = props\n\n  const [expandedChild, setExpandedChild] = React.useState(null)\n\n  const expanded = question.current._key == currentQuestion\n\n  return (\n    <>\n      <li\n        className={classNames('map-question', { expanded: expanded })}\n        key={questionIndex}\n        onClick={() => {\n          setMapDepth(0)\n          setCurrentQuestion(question.current._key)\n        }}\n      >\n        <div className=\"knockout convo-count\">\n          <p>{Object.keys(questionChildren).length}</p>\n          <p>Convos</p>\n        </div>\n        <h3 className=\"map-question-title\">{getFinalNodeTitle(question)}</h3>\n      </li>\n      {expanded && (\n        <ul className=\"question-children fade-in\" key={`${questionIndex}-children`}>\n          {Object.keys(questionChildren).map((childNodeKey) => {\n            const childNode = questionChildren[childNodeKey]\n            return (\n              <MapNode\n                nodeId={childNodeKey}\n                title={childNode.title}\n                nodeChildren={childNode.childNodes}\n                depth={1}\n                setMapDepth={setMapDepth}\n                setMaxMapDepth={setMaxMapDepth}\n                isExpanded={childNodeKey === expandedChild}\n                setIsExpanded={() => {\n                  setExpandedChild(childNodeKey)\n                }}\n                key={childNodeKey}\n              />\n            )\n          })}\n        </ul>\n      )}\n    </>\n  )\n}\n","import * as React from 'react'\nimport { MapQuestion } from '../components/MapQuestion'\n\nexport const MapQuestions = (props) => {\n  const { questions, questionChildren, setMapDepth, setMaxMapDepth } = props\n\n  const [currentQuestion, setCurrentQuestion] = React.useState(null)\n\n  return (\n    <ul className=\"question-list\">\n      {questions.map((question, questionIndex) => (\n        <MapQuestion\n          question={question}\n          questionIndex={questionIndex}\n          currentQuestion={currentQuestion}\n          setCurrentQuestion={setCurrentQuestion}\n          setMapDepth={setMapDepth}\n          setMaxMapDepth={setMaxMapDepth}\n          questionChildren={questionChildren[questionIndex].childNodes}\n        />\n      ))}\n    </ul>\n  )\n}\n","import * as React from 'react'\nimport classNames from 'classnames'\n\nexport const MapDepthSelector = (props) => {\n  const { currentDepth, maxDepth, zeroMapDepth, decreaseMapDepth, increaseMapDepth, maximizeMapDepth } = props\n\n  return (\n    <div className=\"map-depth-selector\">\n      <button onClick={zeroMapDepth} className={classNames('reset-map-depth-button', { disabled: currentDepth <= 0 })}>\n        ◄◄\n      </button>\n      <button\n        onClick={decreaseMapDepth}\n        className={classNames('decrease-map-depth-button', { disabled: currentDepth <= 0 })}\n      >\n        ◄\n      </button>\n      <button\n        onClick={increaseMapDepth}\n        className={classNames('increase-map-depth-button', { disabled: currentDepth == maxDepth })}\n      >\n        ►\n      </button>\n      <button\n        onClick={maximizeMapDepth}\n        className={classNames('max-map-depth-button', { disabled: currentDepth == maxDepth })}\n      >\n        ►►\n      </button>\n    </div>\n  )\n}\n","import * as React from 'react'\nimport { observer } from 'mobx-react'\nimport { getQuestions, getMapNodeSubtree, getFinalNodeTitle } from '../firestore/firestore'\nimport { MapQuestions } from '../components/MapQuestions'\nimport { TitleBlock } from '../components/TitleBlock'\nimport { MapDepthSelector } from '../components/MapDepthSelector'\n\nimport '../styles/Map.scss'\n\nexport const Map = observer((props) => {\n  const { themeId } = props\n  const questions = getQuestions()\n  const questionChildren = questions.map((question) => ({\n    questionId: question._key,\n    childNodes: getMapNodeSubtree(question._key),\n  }))\n\n  const [mapDepth, setMapDepth] = React.useState(0)\n  const [maxMapDepth, setMaxMapDepth] = React.useState(0)\n\n  return (\n    <main className=\"map fade-in\" style={{ backgroundPositionX: `calc(100% - ${mapDepth * 30}px)` }}>\n      <div className=\"top-container\">\n        <img\n          className=\"title-image\"\n          src={require(`../assets/images/${themeId}-title-transparent.png`)}\n          alt=\"The Covid Conversation\"\n        />\n      </div>\n      <section className=\"map-container\" style={{ transform: `translateX(${-40 * mapDepth + 4}%)` }}>\n        <div className=\"question-list-container\">\n          <MapQuestions\n            questions={questions}\n            questionChildren={questionChildren}\n            setMapDepth={setMapDepth}\n            setMaxMapDepth={setMaxMapDepth}\n          />\n        </div>\n      </section>\n      <section className=\"map-footer\">\n        <MapDepthSelector\n          currentDepth={mapDepth}\n          maxDepth={maxMapDepth}\n          zeroMapDepth={() => setMapDepth(0)}\n          decreaseMapDepth={() => {\n            if (mapDepth > 0) {\n              setMapDepth(mapDepth - 1)\n            }\n          }}\n          increaseMapDepth={() => {\n            if (mapDepth < maxMapDepth) {\n              setMapDepth(mapDepth + 1)\n            }\n          }}\n          maximizeMapDepth={() => setMapDepth(maxMapDepth)}\n        />\n      </section>\n    </main>\n  )\n})\n","import \"mobx\"; // import mobx before we declare the module below, otherwise vscode auto-importer gets confused at path to mobx\nimport firebase from \"firebase\";\nimport {InitFirelink} from \"@debate-map/server-link\";\n\nconst firebaseConfig = {\n  \"apiKey\":\"AIzaSyCnvv_m-L08i4b5NmxGF5doSwQ2uJZ8i-0\",\n  \"authDomain\":\"debate-map-prod.firebaseapp.com\",\n  \"databaseURL\":\"https://debate-map-prod.firebaseio.com\",\n  \"projectId\":\"debate-map-prod\",\n  \"storageBucket\":\"debate-map-prod.appspot.com\",\n};\n\nconst dbVersion = 12;\nconst DB_SHORT = \"prod\";\nconst linkRootPath = `versions/v${dbVersion}-${DB_SHORT}`;\n\n// we aren't currently using mobx for a general app data-store, so just pass an empty object\nconst store = {};\n\nexport function initDebateMapServerLink() {\n  firebase.initializeApp(firebaseConfig);\n  InitFirelink(linkRootPath, store);\n}","import React, { Component } from 'react'\nimport { HashRouter, Route } from 'react-router-dom'\n\nimport { ThemeSelector } from './components/themes/ThemeSelector'\nimport { TopNav } from './components/TopNav'\nimport { Welcome } from './pages/Welcome'\nimport { Map } from './pages/Map'\nimport { Debates } from './pages/Debates'\nimport { Questions } from './pages/Questions'\nimport { Positions } from './pages/Positions'\nimport { Reasons } from './pages/Reasons'\nimport { Argument } from './pages/Argument'\nimport { Claim } from './pages/Claim'\n\nimport './styles/App.scss'\nimport { initDebateMapServerLink } from './firestore/init-dm-link'\n\ninitDebateMapServerLink()\n\nclass App extends Component {\n  themeId = process.env.REACT_APP_PROJECT_ID\n\n  render() {\n    return (\n      <HashRouter basename=\"/\">\n        <div className=\"app\">\n          {/*<TopNav themeId={this.themeId} /> */}\n          <Route path=\"/map\" component={() => <Map themeId={this.themeId} />} />\n          {/* The old app. We will allow people to switch back to this view at some point\n          <Route path=\"/questions\" component={Questions} />\n          <Route path=\"/positions/:id\" component={Positions} />\n          <Route path=\"/reasons/:id\" component={Reasons} />\n          <Route path=\"/argument\" component={Argument} />\n          <Route path=\"/claim\" component={Claim} />\n          <Route path=\"/debates\" component={Debates} />\n           */}\n          <Route exact path=\"/\" component={Welcome} />\n        </div>\n      </HashRouter>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './styles/index.scss'\n\nReactDOM.render(React.createElement(App), document.getElementById('root'))\n","var map = {\n\t\"./covid-conversation-title-transparent.png\": 154\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 99;"],"sourceRoot":""}